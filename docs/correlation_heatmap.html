<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
</head>
<body>
    <div id="chart" style="width:100%;height:700px;"></div>
    <script>
        var features = ['fixed acidity', 'volatile acidity', 'citric acid', 'residual sugar',
                       'chlorides', 'free SO2', 'total SO2', 'density', 'pH', 'sulphates', 'alcohol', 'quality'];

        // Simplified correlation matrix (based on actual wine data patterns)
        var z = [
            [1.00, -0.26, 0.67, 0.11, 0.09, -0.15, -0.11, 0.67, -0.68, 0.18, -0.06, 0.12],
            [-0.26, 1.00, -0.55, 0.00, 0.06, -0.10, 0.08, 0.02, 0.23, -0.26, 0.07, -0.39],
            [0.67, -0.55, 1.00, 0.14, 0.20, 0.09, 0.12, 0.36, -0.54, 0.31, 0.11, 0.23],
            [0.11, 0.00, 0.14, 1.00, 0.06, 0.19, 0.40, 0.84, -0.19, -0.03, -0.45, -0.10],
            [0.09, 0.06, 0.20, 0.06, 1.00, 0.01, 0.20, 0.26, 0.04, 0.37, -0.36, -0.21],
            [-0.15, -0.10, 0.09, 0.19, 0.01, 1.00, 0.67, -0.02, 0.07, 0.05, -0.25, 0.05],
            [-0.11, 0.08, 0.12, 0.40, 0.20, 0.67, 1.00, 0.53, -0.07, 0.04, -0.45, -0.19],
            [0.67, 0.02, 0.36, 0.84, 0.26, -0.02, 0.53, 1.00, -0.34, 0.15, -0.78, -0.31],
            [-0.68, 0.23, -0.54, -0.19, 0.04, 0.07, -0.07, -0.34, 1.00, -0.20, 0.12, 0.10],
            [0.18, -0.26, 0.31, -0.03, 0.37, 0.05, 0.04, 0.15, -0.20, 1.00, 0.09, 0.25],
            [-0.06, 0.07, 0.11, -0.45, -0.36, -0.25, -0.45, -0.78, 0.12, 0.09, 1.00, 0.48],
            [0.12, -0.39, 0.23, -0.10, -0.21, 0.05, -0.19, -0.31, 0.10, 0.25, 0.48, 1.00]
        ];

        var data = [{
            z: z,
            x: features,
            y: features,
            type: 'heatmap',
            colorscale: 'RdBu',
            zmid: 0,
            text: z.map(row => row.map(val => val.toFixed(2))),
            texttemplate: '%{text}',
            textfont: {size: 10},
            colorbar: {title: 'Correlation'}
        }];

        var layout = {
            title: 'Feature Correlation Heatmap',
            xaxis: {tickangle: -45},
            margin: {l: 150, r: 50, t: 100, b: 150},
            height: 700
        };

        Plotly.newPlot('chart', data, layout, {responsive: true});
    </script>
</body>
</html>
